### 浏览器渲染机制
首先，浏览器的渲染机制中有几个基本概念名称：

（1）、DOM：浏览器将HTML解析成树形的数据结构

（2）、CSSOM：浏览器将CSS解析成树形的数据结构

（3）、Render Tree：DOM和CSSOM合并后生成Render Tree（渲染树）

（4）、Layout：计算出Render Tree每个节点的具***置

（5）、Painting：通过显卡，将Layout后的节点内容分别呈现到屏幕上

浏览器整个渲染流程如下：

（1）、用户输入一个URL后，浏览器就会向服务器发出一个请求，请求URL对应的资源

（2）、接到服务器的响应内容后，浏览器的HTML解析器，会将HTML文件解析成一颗DOM树，DOM树的构建是一个深度遍历的过程，当前节点的所有子节点都构建完成后，才会去构建当前节点的下一个兄弟节点

（3）、将CSS解析成CSSOM树

（4）、根据DOM树与CSSOM树，构建Render Tree

（5）、浏览器会根据Render Tree能知道网页中哪些有节点，各个节点的CSS，以及各个节点的从属关系

（6）、计算出每个节点在屏幕中的位置后，最后一步就是Painting，根据计算出的规则，把内容画到屏幕上

注意：

浏览器在获得HTML文件后，是自上而下的加载，并在加载过程中进行解析与渲染

加载过程中：

遇到外部CSS文件和图片等静态资源时，浏览器会另外发送一个异步请求

遇到js文件时，HTML文件会挂起渲染的进程，等待js文件加载完毕后，再继续进行渲染，因为js可能会修改DOM，导致后续HTML资源白白加载，这也是为什么建议将js文件写在底部body标签前

### 请问你了解什么是重绘？什么是回流？两者有何区别？
**重绘：**

更换某个元素颜色，这样的行为是不影响页面布局，DOM树不会变化，但颜色变了，使该元素所在的 Layer 重新渲染

常见情况：

（1）、回流必定引发重绘，但重绘也会单独触发

（2）、背景色、颜色、字体改变（字体大小改变，会触发回流）

**回流：**

增删DOM节点，或修改一个元素的宽高，页面布局发生变化，DOM树结构发生变化，需要重新构建DOM树，而DOM树与渲染树是紧密相连的，DOM树构建完，渲染树也会随之对页面进行再次渲染

常见情况：

（1）、页面渲染初始化

（2）、DOM树变化（添加或者删除可见的DOM元素、元素位置改变）

（3）、Render树变化（元素尺寸改变：边距、填充、边框、宽度和高度）

（4）、浏览器窗口尺寸改变，resize事件发生

（5）、内容改变：文本改变或者图片大小改变而引起的计算值宽度和高度改变；

（6）、查询布局信息，包括offestLeft/Top/Width/Height、scrollLeft/Top/Width/Height、clientLeft/Top/Width/Height、浏览为了返回最新值，会触发回流
